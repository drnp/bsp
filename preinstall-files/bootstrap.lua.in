-- Bootstrap script

-- Online init
bsp_set_online_handler({
    load = function(id)
        -- Do restore
        print("Data of " .. id .. " loaded");
    end, 
    save = function(id)
        -- Do save
        print("Data of " .. id .. " saved");
    end
});

print("Bootstrap for BSP.Server DEMO v1.0 starting...");

-- We have three server here
-- main_server
-- websocket_server
-- internal_server

bsp_set_fcgi_upstream('websocket_server', {
    {host = 'localhost', port = 9000, script_filename = '/home/np/Projects/web/index.php'}
});

bsp_set_lua_entry('main_server', 'server');
bsp_set_lua_entry('internal_server', 'server');
bsp_load_script("main.lua");
